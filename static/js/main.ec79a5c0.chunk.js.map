{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/image-api.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","imageQuery","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","SearchFormInput","type","autoComplete","autoFocus","placeholder","name","onChange","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","images","map","image","ImageGalleryItemImage","src","webformatURL","data-image","largeImageURL","alt","id","ImageGallery","ButtonLoadMore","onClick","Button","fetchImage","currentPage","fetch","then","response","ok","json","Promise","reject","Error","App","isLoading","handleFormSubmit","options","imageApi","hits","prevState","prevProps","length","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec79a5c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3bCp9\",\"SearchForm\":\"Searchbar_SearchForm__M5ORR\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3E8uG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__w4YlR\",\"SearchFormInput\":\"Searchbar_SearchFormInput__36VvN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2I76d\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2ai4r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2152t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3iPlI\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { imageQuery: \"\" };\r\n\r\n  static propTypes = {\r\n    imageQuery: PropTypes.string,\r\n  };\r\n  handleNameChange = (event) => {\r\n    this.setState({ imageQuery: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageQuery.trim() === \"\") {\r\n      toast.error(\"Введите запрос.\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageQuery);\r\n    this.setState({ imageQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"imageQuery\"\r\n            value={this.state.imageQuery}\r\n            onChange={this.handleNameChange}\r\n          />\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ images }) {\r\n  return (\r\n    <>\r\n      {images.map((image) => (\r\n        <li key={image.id} className={s.ImageGalleryItem}>\r\n          <img\r\n            className={s.ImageGalleryItemImage}\r\n            src={image.webformatURL}\r\n            data-image={image.largeImageURL}\r\n            alt=\"\"\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      <ImageGalleryItem images={images} />\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nfunction ButtonLoadMore({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","const API_KEY = \"18969292-6634fe46747360e3150bf5a1e\";\r\nconst BASE_URL = `https://pixabay.com/api`;\r\n\r\nfunction fetchImage({ imageQuery = \"\", currentPage = 1 }) {\r\n  return fetch(\r\n    `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${imageQuery}&page=${currentPage}&per_page=12&key=${API_KEY}`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(\r\n      new Error(`По вашему запросу ничего не найдено ${imageQuery}`)\r\n    );\r\n  });\r\n}\r\n\r\nexport default { fetchImage };\r\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ToastContainer } from \"react-toastify\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ButtonLoadMore from \"./components/Button\";\nimport imageApi from \"./services/image-api\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    imageQuery: \"\",\n    isLoading: false,\n    error: null,\n  };\n  static propTypes = {\n    imageQuery: PropTypes.string,\n    images: PropTypes.array,\n    currentPage: PropTypes.number,\n    isLoading: PropTypes.bool,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageQuery !== this.state.imageQuery) {\n      this.fetchImage();\n    }\n  }\n\n  handleFormSubmit = (imageQuery) => {\n    this.setState({ imageQuery, currentPage: 1, images: [] });\n  };\n\n  fetchImage = () => {\n    const { currentPage, imageQuery } = this.state;\n    const options = {\n      currentPage,\n      imageQuery,\n    };\n\n    imageApi.fetchImage(options).then(({ hits }) =>\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...hits],\n        currentPage: prevState.currentPage + 1,\n      }))\n    );\n  };\n\n  render() {\n    const { images } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery images={images} />\n        {images.length > 0 && <ButtonLoadMore onClick={this.fetchImage} />}\n        <ToastContainer autoClose={2000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}